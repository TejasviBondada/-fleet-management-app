<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Page</title>
    <style>
        *{
            background-color: rgb(206, 232, 247);
        }
       #main {
            display:flex;
            flex-wrap: wrap;
            gap:10px;
        }
        .card{
            border:1px solid black;
            width:20%;
            padding:20px;
        }
        nav{
            display:flex;
            gap:15px;
        }
        #sidebar{
            width:300px;
            padding:10px;

        }
        #mainArea{
            flex:1;
            padding:20px;
        }
        .fleetcard img{
            width:50%;
            height:100px;
            object-fit: cover;
        }
        .card-list{
            display:flex;
            flex-wrap: wrap;
            gap:10px;

        }
    </style>
</head>
<body>
    <center><h2>Welcome to fleet Dashboard</h2></center>
    <br>
    <nav>
        <label>Category</label>
        <select id="categoryFilter" onchange="applyFilters()">
            <option>All</option>
            <option>Auto</option>
            <option>Bus</option>
            <option>Car</option>
            <option>Truck</option>
        </select>
        <label>Availability</label>
        <select id="availabilityFilter" onchange="applyFilters()">
            <option>All</option>
            <option>Available</option>
            <option>Unavailable</option>
        </select>

        <button onclick="clearFilters()">Clear Filter</button>

    </nav>
    <hr>
    <div id="container">
        <aside  id="sidebar">
            <h3>Add Vehicle</h3>
            <form id="fleetform">
                <label>Reg No:</label>
                <input id="reg" type="text" placeholder="Reg No"><br><br>
                <label>Category:</label>
                <select id="category">
                    <option>Auto</option>
                    <option>Bus</option>
                    <option>Car</option>
                    <option>Truck</option>
                </select><br><br>
                <label>Driver Name</label>
                <input id="driver" type="text" placeholder="Driver's Name"><br><br>
                <label>Availability</label>
                <select id="avail">
                    <option>Available</option>
                    <option>Unavailable</option>
                </select><br><br>
                <center><button onclick="addVehicle()">Add Fleet</button></center>
            </form>
        </aside>
    </div>
    <div id="mainArea">
        <div class="card-list" id="fleetlist"></div>
    </div>

    <script>
        let data=[];
        function addVehicle(){
            const form=document.getElementById("fleetform");
            const main=document.getElementById("fleetList");
            form.addEventListener("submit",function(e){
                e.preventDefault();
            });
            let reg=document.getElementById("reg").value;
            let cat=document.getElementById("category").value;
            let driver=document.getElementById("driver").value;
            let avail=document.getElementById('avail').value;

            let vehicle={
                reg,cat,driver,avail,
                img:"https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png"            
            };
            const card=document.createElement("div");
            card.className="fleet-card";
            card.innerHTML=`<img src="https://coding-platform.s3.amazonaws.com/dev/lms/tickets/5e80fcb6-3f8e-480c-945b-30a5359eb40e/JNmYjkVr3WOjsrbu.png">
                            <p>REG No:${reg}</p>
                            <p>Category:${cat}</p>
                            <p>driver:${driver}</p>
                            <p>Status:${avail}</p>`;
            data.push(vehicle);
            fleetlist.appendChild(card);
            form.reset();
        }
        function updateDriver(i){
            let name=prompt("Enter new driver name:");
            if(name){
                data[i].driver=name;
            }
        }
        function changeAvail(i){
            data[i].avail=data[i].avail==="Available" ? "Unavailable";
            render(data);
        }
        function deleteVehicle(i){
            data.splice(i,1);
            render(data);
        }

        function applyFilters(){
            let catVal=document.getElementById("categoryFilter").value;
            let availVal=document.getAnimations("availabilityFilter").value;
            let filtered=data.filter(v => {
                let c=(catVal==="All" || v.cat===catVal);
                let a=(availVal==="All" || v.avail===availVal);
                return c && a;
            });
        }

        function clearFilters(){
            document.getElementById("categoryFilter").value="All";
            document.getElementById("availabilityFilter").value="All";
        }
    </script>

</body>
</html>